(window.webpackJsonp=window.webpackJsonp||[]).push([["SysEmployee"],{f904:function(e,t,n){"use strict";n.r(t);var i,o=n("50da"),a=n("2e90"),s=n("e719"),r=n("3617"),l=n("600f"),c=n("402f");let d=class extends c.f{constructor(){super(...arguments),this.pageNumber=1,this.tableTitle="人员信息",this.columnSlots=["actions","status","reserved","gender","identity"],this.tableHeaders=[{text:"人员姓名",align:"center",value:"employeeName"},{text:"性别",align:"center",value:"gender"},{text:"身份",align:"center",value:"identity"},{text:"备注",align:"center",value:"description"},{text:"保留数据",align:"center",value:"reserved"},{text:"状态",align:"center",value:"status"},{text:"操作",align:"center",value:"actions",sortable:!1}],this.condition={employeeName:"",mobilePhoneNumber:"",email:"",gender:null,identity:null},this.gender=new Array,this.identity=new Array,this.options={authorize:{color:"purple",icon:"mdi-account-multiple-plus",class:"mr-2",tooltip:"创建"},edit:{color:"warning",icon:"mdi-pencil-box-multiple",class:"mr-2",tooltip:"编辑"},remove:{color:"error",icon:"mdi-delete-sweep",class:"mr-2",tooltip:"删除"}}}onPageNumberChanged(e){this.findItemsByPage(e,this.condition)}pagination(e){this.pageNumber=e}mounted(){this.getConstants(),super.mounted()}getBaseService(){return this.sysEmployeeService}getItemKey(){return"employeeId"}getDomainName(){return"SysEmployee"}getConstants(){this.$enums.getItem(c.h.GENDER).then(e=>{this.gender=e}),this.$enums.getItem(c.h.IDENTITY).then(e=>{this.identity=e})}parseGender(e){return"number"==typeof e.gender?this.gender[e.gender].text:""}parseIdentity(e){return"number"==typeof e.identity?this.identity[e.identity].text:""}search(){this.pageNumber=1,this.findItemsByPage(this.pageNumber,this.condition)}clear(){this.condition.employeeName="",this.condition.mobilePhoneNumber="",this.condition.email="",this.condition.gender=null,this.condition.identity=null,this.findItemsByPage(this.pageNumber,this.condition)}authorize(e){this.sysEmployeeService.authorizeUser({employeeId:e.employeeId}).then(()=>{this.$notify.success("配置成功！"),this.pageNumber=1,this.findItemsByPage(this.pageNumber,this.condition)}).catch(()=>{this.$notify.error("配置失败！")})}checkAuthorize(e){return!!this.$lib.lodash.isEmpty(e.user)}};Object(o.a)([s.Inject,Object(o.b)("design:type","function"==typeof(i=void 0!==l.j&&l.j)?i:Object)],d.prototype,"sysEmployeeService",void 0),Object(o.a)([Object(a.g)("pageNumber"),Object(o.b)("design:type",Function),Object(o.b)("design:paramtypes",[Number]),Object(o.b)("design:returntype",void 0)],d.prototype,"onPageNumberChanged",null),d=Object(o.a)([Object(a.a)({components:{HContainer:r.d,HActionButton:r.a,HTableItemChip:r.q,HTableItemStatus:r.s,HDictionarySelect:r.h}})],d);var u=d,m=n("ba34"),h=n("eb4c"),p=n.n(h),b=n("bc77"),y=n("6fc4"),g=n("3134"),f=n("a4fc"),v=n("81fa"),x=Object(m.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h-container",[n("h-table",{attrs:{"show-select":"","external-pagination":"","table-headers":e.tableHeaders,"table-items":e.tableItems,"page-size":e.pageSize,"total-items":e.totalItems,"total-pages":e.totalPages,"table-title":e.tableTitle,"table-loading":e.tableLoading,"skeleton-loading":e.skeletonLoading,"column-slots":e.columnSlots,"item-key":e.getItemKey()},on:{pagination:function(t){return e.pagination(t)}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-card",{attrs:{flat:""}},[n("v-row",{attrs:{dense:""}},[n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"姓名",outlined:"",dense:"",clearable:"","hide-details":""},model:{value:e.condition.employeeName,callback:function(t){e.$set(e.condition,"employeeName",t)},expression:"condition.employeeName"}})],1),n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"手机号码",outlined:"",dense:"",clearable:"","hide-details":""},model:{value:e.condition.mobilePhoneNumber,callback:function(t){e.$set(e.condition,"mobilePhoneNumber",t)},expression:"condition.mobilePhoneNumber"}})],1),n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"EMAIL",outlined:"",dense:"",clearable:"","hide-details":""},model:{value:e.condition.email,callback:function(t){e.$set(e.condition,"email",t)},expression:"condition.email"}})],1),n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[n("h-dictionary-select",{attrs:{dictionary:"gender",label:"性别",dense:"","hide-details":""},model:{value:e.condition.gender,callback:function(t){e.$set(e.condition,"gender",t)},expression:"condition.gender"}})],1),n("v-col",{staticClass:"d-flex align-center",attrs:{cols:"2"}},[n("h-dictionary-select",{attrs:{dictionary:"identity",label:"身份",dense:"","hide-details":""},model:{value:e.condition.identity,callback:function(t){e.$set(e.condition,"identity",t)},expression:"condition.identity"}})],1),n("v-col",{attrs:{cols:"2"}},[n("h-button",{attrs:{icon:"","icon-name":"search",tooltip:"模糊搜索"},on:{click:function(t){return e.search()}}}),n("h-button",{attrs:{icon:"","icon-name":"delete",tooltip:"清空"},on:{click:function(t){return e.clear()}}})],1)],1)],1),n("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(t){return e.createItem()}}},[e._v("添加人员")])]},proxy:!0},{key:"item.gender",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.parseGender(n))+" ")]}},{key:"item.identity",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.parseIdentity(n))+" ")]}},{key:"item.status",fn:function(e){var t=e.item;return[n("h-table-item-status",{attrs:{type:t.status}})]}},{key:"item.reserved",fn:function(e){var t=e.item;return[n("h-table-item-chip",{attrs:{status:t.reserved}})]}},{key:"item.actions",fn:function(t){var i=t.item;return[n("h-action-button",{attrs:{options:e.options,edit:"",remove:!i.reserved,authorize:e.checkAuthorize(i),content:"默认用户"},on:{authorize:function(t){return e.authorize(i)},edit:function(t){return e.editItem(i)},remove:function(t){return e.deleteItem(i)}}})]}}],null,!0)})],1)}),[],!1,null,null,null);t.default=x.exports;p()(x,{VBtn:b.a,VCard:y.a,VCol:g.a,VRow:f.a,VTextField:v.a})}}]);