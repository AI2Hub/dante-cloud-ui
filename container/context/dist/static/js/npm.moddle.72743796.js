(window.webpackJsonp=window.webpackJsonp||[]).push([["npm.moddle"],{aff6:function(e,t,r){"use strict";r.d(t,"a",(function(){return g})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return y}));var i=r("b2ea");function n(){}function o(e,t){this.model=e,this.properties=t}n.prototype.get=function(e){return this.$model.properties.get(this,e)},n.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},o.prototype.createType=function(e){var t=this.model,r=this.properties,o=Object.create(n.prototype);Object(i.forEach)(e.properties,(function(e){e.isMany||void 0===e.default||(o[e.name]=e.default)})),r.defineModel(o,t),r.defineDescriptor(o,e);var p=e.ns.name;function s(e){r.define(this,"$type",{value:p,enumerable:!0}),r.define(this,"$attrs",{value:{}}),r.define(this,"$parent",{writable:!0}),Object(i.forEach)(e,Object(i.bind)((function(e,t){this.set(t,e)}),this))}return s.prototype=o,s.hasType=o.$instanceOf=this.model.hasType,r.defineModel(s,t),r.defineDescriptor(s,e),s};var p={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},s={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function a(e,t){var r=s[e];return r?r(t):t}function c(e){return!!p[e]}function f(e){return!!s[e]}function y(e,t){var r,i,n=e.split(/:/);if(1===n.length)r=e,i=t;else{if(2!==n.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);r=n[1],i=n[0]}return{name:e=(i?i+":":"")+r,prefix:i,localName:r}}function d(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function u(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,Object(i.forEach)(e,Object(i.bind)(this.registerPackage,this))}function h(e,t,r){var i=t[r];if(i in e)throw new Error("package with "+r+" <"+i+"> already defined")}function l(e){this.model=e}function m(e,t,r){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:r,configurable:!0})}function g(e){this.properties=new l(this),this.factory=new o(this,this.properties),this.registry=new u(e,this.properties),this.typeCache={}}d.prototype.build=function(){return Object(i.pick)(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},d.prototype.addProperty=function(e,t,r){"boolean"==typeof t&&(r=t,t=void 0),this.addNamedProperty(e,!1!==r);var i=this.properties;void 0!==t?i.splice(t,0,e):i.push(e)},d.prototype.replaceProperty=function(e,t,r){var i=e.ns,n=this.properties,o=this.propertiesByName,p=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=n.indexOf(e);if(-1===s)throw new Error("property <"+i.name+"> not found in property list");n.splice(s,1),this.addProperty(t,r?void 0:s,p),o[i.name]=o[i.localName]=t},d.prototype.redefineProperty=function(e,t,r){var i=e.ns.prefix,n=t.split("#"),o=y(n[0],i),p=y(n[1],o.prefix).name,s=this.propertiesByName[p];if(!s)throw new Error("refined property <"+p+"> not found");this.replaceProperty(s,e,r),delete e.redefines},d.prototype.addNamedProperty=function(e,t){var r=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,r.name),this.assertNotDefined(e,r.localName)),i[r.name]=i[r.localName]=e},d.prototype.removeNamedProperty=function(e){var t=e.ns,r=this.propertiesByName;delete r[t.name],delete r[t.localName]},d.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},d.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},d.prototype.assertNotDefined=function(e,t){var r=e.name,i=this.propertiesByName[r];if(i)throw new Error("property <"+r+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},d.prototype.hasProperty=function(e){return this.propertiesByName[e]},d.prototype.addTrait=function(e,t){var r=this.allTypesByName,n=this.allTypes,o=e.name;o in r||(Object(i.forEach)(e.properties,Object(i.bind)((function(r){r=Object(i.assign)({},r,{name:r.ns.localName,inherited:t}),Object.defineProperty(r,"definedBy",{value:e});var n=r.replaces,o=r.redefines;n||o?this.redefineProperty(r,n||o,n):(r.isBody&&this.setBodyProperty(r),r.isId&&this.setIdProperty(r),this.addProperty(r))}),this)),n.push(e),r[o]=e)},u.prototype.getPackage=function(e){return this.packageMap[e]},u.prototype.getPackages=function(){return this.packages},u.prototype.registerPackage=function(e){e=Object(i.assign)({},e);var t=this.packageMap;h(t,e,"prefix"),h(t,e,"uri"),Object(i.forEach)(e.types,Object(i.bind)((function(t){this.registerType(t,e)}),this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)},u.prototype.registerType=function(e,t){var r=y((e=Object(i.assign)({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Object(i.assign)(e.meta||{})})).name,t.prefix),n=r.name,o={};Object(i.forEach)(e.properties,Object(i.bind)((function(e){var t=y(e.name,r.prefix),n=t.name;c(e.type)||(e.type=y(e.type,t.prefix).name),Object(i.assign)(e,{ns:t,name:n}),o[n]=e}),this)),Object(i.assign)(e,{ns:r,name:n,propertiesByName:o}),Object(i.forEach)(e.extends,Object(i.bind)((function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(n)}),this)),this.definePackage(e,t),this.typeMap[n]=e},u.prototype.mapTypes=function(e,t,r){var n=c(e.name)?{name:e.name}:this.typeMap[e.name],o=this;function p(e){return s(e,!0)}function s(r,i){var n=y(r,c(r)?"":e.prefix);o.mapTypes(n,t,i)}if(!n)throw new Error("unknown type <"+e.name+">");Object(i.forEach)(n.superClass,r?p:s),t(n,!r),Object(i.forEach)(n.traits,p)},u.prototype.getEffectiveDescriptor=function(e){var t=y(e),r=new d(t);this.mapTypes(t,(function(e,t){r.addTrait(e,t)}));var i=r.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i},u.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},l.prototype.set=function(e,t,r){var i=this.model.getPropertyDescriptor(e,t),n=i&&i.name;void 0===r?i?delete e[n]:delete e.$attrs[t]:i?n in e?e[n]=r:m(e,i,r):e.$attrs[t]=r},l.prototype.get=function(e,t){var r=this.model.getPropertyDescriptor(e,t);if(!r)return e.$attrs[t];var i=r.name;return!e[i]&&r.isMany&&m(e,r,[]),e[i]},l.prototype.define=function(e,t,r){Object.defineProperty(e,t,r)},l.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},l.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},g.prototype.create=function(e,t){var r=this.getType(e);if(!r)throw new Error("unknown type <"+e+">");return new r(t)},g.prototype.getType=function(e){var t=this.typeCache,r=Object(i.isString)(e)?e:e.ns.name,n=t[r];return n||(e=this.registry.getEffectiveDescriptor(r),n=t[r]=this.factory.createType(e)),n},g.prototype.createAny=function(e,t,r){var n=y(e),o={$type:e,$instanceOf:function(e){return e===this.$type}},p={name:e,isGeneric:!0,ns:{prefix:n.prefix,localName:n.localName,uri:t}};return this.properties.defineDescriptor(o,p),this.properties.defineModel(o,this),this.properties.define(o,"$parent",{enumerable:!1,writable:!0}),this.properties.define(o,"$instanceOf",{enumerable:!1,writable:!0}),Object(i.forEach)(r,(function(e,t){Object(i.isObject)(e)&&void 0!==e.value?o[e.name]=e.value:o[t]=e})),o},g.prototype.getPackage=function(e){return this.registry.getPackage(e)},g.prototype.getPackages=function(){return this.registry.getPackages()},g.prototype.getElementDescriptor=function(e){return e.$descriptor},g.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},g.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},g.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]}}}]);