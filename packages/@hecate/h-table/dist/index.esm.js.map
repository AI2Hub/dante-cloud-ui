{"version":3,"file":"index.esm.js","sources":["../src/HTable.vue"],"sourcesContent":["<template>\n    <div>\n        <v-card v-if=\"skeletonLoading\">\n            <v-skeleton-loader :boilerplate=\"boilerplate\" :type=\"type\" :tile=\"tile\"></v-skeleton-loader>\n        </v-card>\n        <v-card v-else>\n            <v-data-table\n                v-model=\"selectedItems\"\n                class=\"elevation-1\"\n                :headers=\"tableHeaders\"\n                :items=\"tableItems\"\n                :page.sync=\"pageNumber\"\n                :items-per-page=\"pageSize\"\n                :server-items-length=\"totalItems\"\n                :loading=\"tableLoading\"\n                :hide-default-footer=\"externalPagination\"\n                :single-select=\"singleSelect\"\n                :show-select=\"showSelect\"\n                :item-key=\"itemKey\"\n                :group-by=\"groupBy\"\n                :group-desc=\"groupDesc\"\n                :sort-by=\"sortBy\"\n                :sort-desc=\"sortDesc\"\n                @item-selected=\"onSelectItem($event)\"\n                @toggle-select-all=\"onSelectAllItems($event)\"\n            >\n                <slot></slot>\n                <template v-slot:top>\n                    <v-toolbar flat color=\"white\">\n                        <v-toolbar-title>{{ tableTitle }}</v-toolbar-title>\n                        <v-divider class=\"mx-4\" inset vertical></v-divider>\n                        <v-spacer></v-spacer>\n                        <slot name=\"top\"></slot>\n                    </v-toolbar>\n                    <v-divider></v-divider>\n                </template>\n                <template v-for=\"dynamicSlotName in dynamicSlotNames\" v-slot:[dynamicSlotName]=\"{ item }\">\n                    <slot :name=\"dynamicSlotName\" :item=\"item\"></slot>\n                </template>\n                <!-- <template v-slot:[`item.data-table-select`]=\"{ item }\">\n                    <v-simple-checkbox :ripple=\"false\" v-model=\"item.isSelected\"></v-simple-checkbox>\n                </template> -->\n            </v-data-table>\n            <div v-if=\"externalPagination\" class=\"text-lg-right pt-2 pb-2\">\n                <v-pagination\n                    :value=\"pageNumber\"\n                    :length=\"totalPages\"\n                    :total-visible=\"totalVisible\"\n                    @input=\"onPagination($event)\"\n                ></v-pagination>\n            </div>\n        </v-card>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { DataTableHeader } from 'vuetify';\nimport { Component, Emit, Prop, VModel, Vue } from 'vue-property-decorator';\n\n/**\n * https://blog.csdn.net/qq_41261490/article/details/102605640\n *\n * 1.tsconfig.json配置以下设置，简单粗暴，但是超级不推荐。\n * {\n *      \"compilerOptions\": {\n *          // 严格属性初始化\n *          \"strictPropertyInitialization\": false\n *      }\n * }\n *\n * 2.使用非空断言   属性后加“ ！”\n * @Prop() option!: String;\n *\n * 3.使用联合类型\n * @Prop() option: Object | undefined | null;\n *\n * 4.使用可选属性 属性后加“ ? ”\n * @Prop() option?: Object;\n */\n\n@Component\nexport default class HTable extends Vue {\n    // v-table 相关属性\n    @Prop({ type: Array, default: () => [] }) readonly tableHeaders!: DataTableHeader[];\n    @Prop({ type: Array, default: () => [] }) readonly tableItems!: any[];\n    @Prop({ type: Number, default: 10 }) readonly pageSize!: number;\n    @Prop({ type: Number, default: -1 }) readonly totalItems?: number;\n    @Prop({ type: Boolean, default: false }) readonly tableLoading?: boolean;\n    @Prop({ type: Boolean, default: false }) readonly externalPagination?: boolean;\n    @Prop({ type: Boolean, default: false }) readonly singleSelect?: boolean;\n    @Prop({ type: Boolean, default: false }) readonly showSelect?: boolean;\n    @Prop({ type: String, default: 'id' }) readonly itemKey?: string;\n    @Prop({ type: Array, default: () => [] }) readonly groupBy?: string[];\n    @Prop({ type: Array, default: () => [] }) readonly groupDesc?: string[];\n    @Prop({ type: Array, default: () => [] }) readonly sortBy?: string[];\n    @Prop({ type: Array, default: () => [] }) readonly sortDesc?: string[];\n\n    // v-pagination 相关属性\n    @Prop({ type: Number, default: 0 }) readonly totalPages?: number;\n    @Prop({ type: Number, default: 7 }) readonly totalVisible?: number;\n\n    // v-skeleton-loader 相关属性\n    @Prop({ type: Boolean, default: false }) readonly boilerplate?: boolean;\n    @Prop({ type: Boolean, default: false }) readonly tile?: boolean;\n    @Prop({ type: String, default: 'table' }) readonly type?: string;\n\n    // 自定义扩展属性\n    @Prop(String) readonly tableTitle!: string;\n    @Prop({ type: Array, default: () => [] }) readonly columnSlots?: string[];\n    @Prop({ type: Boolean, default: false }) readonly skeletonLoading?: boolean;\n\n    @VModel({ type: Array, default: () => [] }) selectedItems?: any[];\n\n    private pageNumber = 1;\n\n    @Emit('selectItem')\n    private onSelectItem(e: Event): Event {\n        return e;\n    }\n\n    @Emit('selectAllItems')\n    private onSelectAllItems(e: Event): Event {\n        return e;\n    }\n\n    @Emit('pagination')\n    private onPagination(e: Event): Event {\n        if (typeof e === 'number') {\n            this.pageNumber = e as number;\n        }\n        return e;\n    }\n\n    private excludeSlots: string[] = ['top', 'data-table-select'];\n    private dynamicSlotNames: string[] = new Array<string>();\n\n    private mounted(): void {\n        this.initColumnSlots();\n    }\n\n    private initColumnSlots(): void {\n        if (this.columnSlots) {\n            for (let columnSlot of this.columnSlots) {\n                if (columnSlot && !this.excludeSlots.includes(columnSlot)) {\n                    if (columnSlot.search('item.') === -1) {\n                        this.dynamicSlotNames.push('item.' + columnSlot);\n                    } else {\n                        this.dynamicSlotNames.push(columnSlot);\n                    }\n                }\n            }\n        }\n    }\n}\n</script>\n"],"names":["let"],"mappings":"2OAiFAA"}