(window.webpackJsonp=window.webpackJsonp||[]).push([["OauthApplicationsAuthorize"],{e5d5:function(e,t,s){"use strict";s.r(t);var a,i,n=s("50da"),o=s("2e90"),c=s("e719"),r=s("3617"),l=s("600f"),p=s("402f");let d=class extends p.a{constructor(){super(...arguments),this.title="分配应用范围",this.listHeader="已配置的权限",this.tableHeaders=[{text:"范围代码",align:"center",value:"scopeCode"},{text:"范围名称",align:"center",value:"scopeName"},{text:"说明",align:"center",value:"description"}]}getBaseService(){return this.oauthApplicationsService}getResourceService(){return this.oauthScopesService}getCompareKey(){return"scopeId"}created(){this.fetchParams("scopes")}mounted(){this.findResourcesByPage()}save(){if(this.$lib.lodash.isEmpty(this.assignedItems))this.$notify.warning("您尚未配置任何权限，请完成配置后再进行提交！");else{this.overlay=!0;let e=this.currentEntity.appKey,t=this.assignedItems.map(e=>e[this.getCompareKey()]);this.getBaseService().assign({appKey:e,scopes:t}).then(()=>{this.overlay=!1,this.$navigation.goBack(this.$route)}).catch(()=>{this.overlay=!1})}}};Object(n.a)([c.Inject,Object(n.b)("design:type","function"==typeof(a=void 0!==l.d&&l.d)?a:Object)],d.prototype,"oauthApplicationsService",void 0),Object(n.a)([c.Inject,Object(n.b)("design:type","function"==typeof(i=void 0!==l.f&&l.f)?i:Object)],d.prototype,"oauthScopesService",void 0),d=Object(n.a)([Object(o.a)({components:{HContainer:r.c,HContentPanel:r.d,HAuthorizeList:r.b}})],d);var u=d,h=s("ba34"),g=s("eb4c"),m=s.n(g),b=s("6fc4"),v=Object(h.a)(u,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h-content-panel",{attrs:{title:e.title}},[s("h-container",{attrs:{type:"left-right"},scopedSlots:e._u([{key:"other",fn:function(){return[s("h-authorize-list",{attrs:{header:e.listHeader,itemKey:e.getCompareKey(),"prepend-title":"scopeCode","prepend-subtitle":"scopeId","append-title":"scopeName"},on:{save:function(t){return e.save()}},model:{value:e.assignedItems,callback:function(t){e.assignedItems=t},expression:"assignedItems"}})]},proxy:!0}])},[s("v-card",[s("h-table",{attrs:{"table-headers":e.tableHeaders,"table-items":e.tableItems,"page-size":e.pageSize,"item-key":e.getCompareKey(),"table-title":"服务接口列表","show-select":""},on:{"item-selected":function(t){return e.selectItem(t)},"toggle-select-all":function(t){return e.selectAllItems(t)}},model:{value:e.assignedItems,callback:function(t){e.assignedItems=t},expression:"assignedItems"}})],1)],1)],1)}),[],!1,null,null,null);t.default=v.exports;m()(v,{VCard:b.a})}}]);