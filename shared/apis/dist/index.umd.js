var __defProp=Object.defineProperty,__defNormalProp=(e,t,s)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,__publicField=(e,t,s)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,s),s);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@herodotus/utils")):"function"==typeof define&&define.amd?define(["exports","@herodotus/utils"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@herodotus/apis"]={},e["@herodotus/utils"])}(this,(function(e,t){"use strict";class ApiConfig{constructor(e,t,s,n){__publicField(this,"http",{}),__publicField(this,"project",""),__publicField(this,"clientId",""),__publicField(this,"clientSecret",""),__publicField(this,"uaaAddress",""),__publicField(this,"upmsAddress",""),__publicField(this,"bpmnAddress",""),__publicField(this,"cmdbAddress",""),this.project=e,this.clientId=t,this.clientSecret=s,this.http=n,this.switch(e)}switch(e){switch(e){case"dante":this.uaaAddress="/dante-cloud-uaa",this.upmsAddress="/dante-cloud-upms",this.bpmnAddress="/dante-cloud-bpmn-ability/engine-rest",this.cmdbAddress="/dante-cloud-cmdb-ability";break;case"herodotus":this.uaaAddress="/herodotus-cloud-uaa",this.upmsAddress="/herodotus-cloud-upms",this.bpmnAddress="/herodotus-cloud-bpmn-ability/engine-rest",this.cmdbAddress="/herodotus-cloud-cmdb-ability";break;default:this.uaaAddress="",this.upmsAddress="",this.bpmnAddress="/engine-rest",this.cmdbAddress=""}}getProject(){return this.project}getClientSecret(){return this.clientSecret}getClientId(){return this.clientId}getHttp(){return this.http}getUaa(){return this.uaaAddress}getUpms(){return this.upmsAddress}getBpmn(){return this.bpmnAddress}getCmdb(){return this.cmdbAddress}}var s=(e=>(e[e.API=0]="API",e[e.MENU=1]="MENU",e[e.PAGE=2]="PAGE",e[e.MINI_PAGE=3]="MINI_PAGE",e))(s||{}),n=(e=>(e[e.LEADERSHIP=0]="LEADERSHIP",e[e.SECTION_LEADER=1]="SECTION_LEADER",e[e.STAFF=2]="STAFF",e))(n||{}),i=(e=>(e[e.OTHERS=0]="OTHERS",e[e.MAN=1]="MAN",e[e.WOMAN=2]="WOMAN",e))(i||{}),r=(e=>(e[e.FORBIDDEN=0]="FORBIDDEN",e[e.ENABLE=1]="ENABLE",e[e.LOCKING=2]="LOCKING",e[e.EXPIRED=3]="EXPIRED",e))(r||{}),c=(e=>(e.APPLICATION="applicationType",e.GENDER="gender",e.GRANT="grantType",e.IDENTITY="identity",e.STATUS="status",e.SUPPLIER="supplierType",e.TECHNOLOGY="technologyType",e.EXPRESSION="expression",e))(c||{}),a=(e=>(e[e.WEB=0]="WEB",e[e.SERVICE=1]="SERVICE",e[e.APP=2]="APP",e[e.WAP=3]="WAP",e[e.MINI=4]="MINI",e))(a||{}),o=(e=>(e[e.JAVA=0]="JAVA",e[e.NET=1]="NET",e[e.PHP=2]="PHP",e[e.NODE=3]="NODE",e[e.IOS=4]="IOS",e[e.ANDROID=5]="ANDROID",e[e.WEAPP=6]="WEAPP",e[e.ALIAPP=7]="ALIAPP",e[e.DUAPP=8]="DUAPP",e))(o||{}),g=(e=>(e[e.CORE=0]="CORE",e[e.BAT=1]="BAT",e[e.THIRD_PARTY=2]="THIRD_PARTY",e[e.Outsourcing=3]="Outsourcing",e))(g||{}),u=(e=>(e[e.INSTITUTION=0]="INSTITUTION",e[e.SMS=1]="SMS",e[e.WXAPP=2]="WXAPP",e[e.QQ=3]="QQ",e[e.WEIBO=4]="WEIBO",e[e.BAIDU=5]="BAIDU",e[e.WECHAT_OPEN=6]="WECHAT_OPEN",e[e.WECHAT_MP=7]="WECHAT_MP",e[e.WECHAT_ENTERPRISE=8]="WECHAT_ENTERPRISE",e[e.WECHAT_ENTERPRISE_WEB=9]="WECHAT_ENTERPRISE_WEB",e[e.DINGTALK=10]="DINGTALK",e[e.DINGTALK_ACCOUNT=11]="DINGTALK_ACCOUNT",e[e.ALIYUN=12]="ALIYUN",e[e.TAOBAO=13]="TAOBAO",e[e.ALIPAY=14]="ALIPAY",e[e.TEAMBITION=15]="TEAMBITION",e[e.HUAWEI=16]="HUAWEI",e[e.FEISHU=17]="FEISHU",e[e.JD=18]="JD",e[e.DOUYIN=19]="DOUYIN",e[e.TOUTIAO=20]="TOUTIAO",e[e.MI=21]="MI",e[e.RENREN=22]="RENREN",e[e.MEITUAN=23]="MEITUAN",e[e.ELEME=24]="ELEME",e[e.KUJIALE=25]="KUJIALE",e[e.XMLY=26]="XMLY",e[e.GITEE=27]="GITEE",e[e.OSCHINA=28]="OSCHINA",e[e.CSDN=29]="CSDN",e[e.GITHUB=30]="GITHUB",e[e.GITLAB=31]="GITLAB",e[e.STACK_OVERFLOW=32]="STACK_OVERFLOW",e[e.CODING=33]="CODING",e[e.GOOGLE=34]="GOOGLE",e[e.MICROSOFT=35]="MICROSOFT",e[e.FACEBOOK=36]="FACEBOOK",e[e.LINKEDIN=37]="LINKEDIN",e[e.TWITTER=38]="TWITTER",e[e.AMAZON=39]="AMAZON",e[e.SLACK=40]="SLACK",e[e.LINE=41]="LINE",e[e.OKTA=42]="OKTA",e[e.PINTEREST=43]="PINTEREST",e))(u||{}),d=(e=>(e.JIGSAW="JIGSAW",e.WORD_CLICK="WORD_CLICK",e.ARITHMETIC="ARITHMETIC",e.CHINESE="CHINESE",e.CHINESE_GIF="CHINESE_GIF",e.SPEC_GIF="SPEC_GIF",e.SPEC="SPEC",e.HUTOOL_LINE="HUTOOL_LINE",e.HUTOOL_CIRCLE="HUTOOL_CIRCLE",e.HUTOOL_SHEAR="HUTOOL_SHEAR",e.HUTOOL_GIF="HUTOOL_GIF",e))(d||{});class Service{constructor(e){__publicField(this,"config"),this.config=e}getConfig(){return this.config}getParamPath(e,t){return e+"/"+t}getIdPath(e){return this.getParamPath(this.getBaseAddress(),e)}}class BaseService extends Service{getConditionAddress(){return this.getBaseAddress()+"/condition"}getListAddress(){return this.getBaseAddress()+"/list"}getTreeAddress(){return this.getBaseAddress()+"/tree"}fetch(e={}){return this.getConfig().getHttp().get(this.getBaseAddress(),e)}fetchByPage(e,s={}){if(t.lodash.isEmpty(s))return this.getConfig().getHttp().get(this.getBaseAddress(),e);{const t=Object.assign(e,s);return this.getConfig().getHttp().get(this.getConditionAddress(),t)}}fetchAll(e={}){return this.getConfig().getHttp().get(this.getListAddress(),e)}fetchTree(e={}){return this.getConfig().getHttp().get(this.getTreeAddress(),e)}saveOrUpdate(e){return this.getConfig().getHttp().post(this.getBaseAddress(),e)}delete(e){return this.getConfig().getHttp().delete(this.getIdPath(e))}assign(e){return this.getConfig().getHttp().put(this.getBaseAddress(),e,{contentType:t.ContentTypeEnum.URL_ENCODED})}}const l=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new l(e)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/application"}};let h=l;__publicField(h,"instance");const p=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new p(e)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/scope"}getAssignedAddress(){return this.getBaseAddress()+"/assigned"}getScopeCodePath(e){return this.getParamPath(this.getBaseAddress(),e)}fetchByScopeCode(e){return this.getConfig().getHttp().get(this.getScopeCodePath(e))}assigned(e){return this.getConfig().getHttp().post(this.getAssignedAddress(),e)}};let A=p;__publicField(A,"instance");const I=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new I(e)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/authorization"}};let E=I;__publicField(E,"instance");const C=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new C(e)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/compliance"}};let S=C;__publicField(S,"instance");const f=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new f(e)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/asset/server"}};let _=f;__publicField(_,"instance");const T=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new T(e)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/asset/application"}};let m=T;__publicField(m,"instance");const O=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new O(e)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/db/account"}};let B=O;__publicField(B,"instance");const b=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new b(e)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/db/catalog"}};let P=b;__publicField(P,"instance");const N=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new N(e)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/db/instance"}};let U=N;__publicField(U,"instance");const y=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new y(e)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/constant/enums"}};let H=y;__publicField(H,"instance");const v=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new v(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/constants/enums"}};let R=v;__publicField(R,"instance");const L=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new L(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/organization"}};let F=L;__publicField(F,"instance");const D=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new D(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/department"}};let M=D;__publicField(M,"instance");const w=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new w(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/employee"}getAssignedAddress(){return this.getBaseAddress()+"/assigned"}getAllocatableAddress(){return this.getBaseAddress()+"/allocatable"}getEmployeeNamePath(e){return this.getParamPath(this.getBaseAddress(),e)}fetchByEmployeeName(e){return this.getConfig().getHttp().get(this.getEmployeeNamePath(e))}fetchAssignedByPage(e,t={}){const s=Object.assign(e,t);return this.getConfig().getHttp().get(this.getAssignedAddress(),s)}deleteAllocatable(e){return this.getConfig().getHttp().delete(this.getAllocatableAddress(),e)}saveAllocatable(e){return this.getConfig().getHttp().post(this.getAllocatableAddress(),e)}authorizeUser(e){return this.getConfig().getHttp().put(this.getBaseAddress(),e,{contentType:t.ContentTypeEnum.URL_ENCODED})}};let G=w;__publicField(G,"instance");const W=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new W(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/"}};let x=W;__publicField(x,"instance");const K=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new K(e)),this.instance}getBaseAddress(){return"/oss/minio/bucket"}remove(e){return this.getConfig().getHttp().delete(this.getBaseAddress(),e)}};let Y=K;__publicField(Y,"instance");const j=class extends Service{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new j(e)),this.instance}getBaseAddress(){return"/oss/minio/multipart"}getCreateMultipartUploadAddress(){return this.getBaseAddress()+"/create"}getCompleteMultipartUploadAddress(){return this.getBaseAddress()+"/complete"}createMultipartUpload(e){return this.getConfig().getHttp().post(this.getCreateMultipartUploadAddress(),e)}completeMultipartUpload(e){return this.getConfig().getHttp().post(this.getCompleteMultipartUploadAddress(),e)}};let z=j;__publicField(z,"instance");const J=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new J(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/authority"}};let k=J;__publicField(k,"instance");const V=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new V(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/default-role"}};let X=V;__publicField(X,"instance");const Q=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new Q(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/role"}getRoleCodePath(e){return this.getParamPath(this.getBaseAddress(),e)}fetchByRoleCode(e){return this.getConfig().getHttp().get(this.getRoleCodePath(e))}};let Z=Q;__publicField(Z,"instance");const q=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new q(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/security-attribute"}};let $=q;__publicField($,"instance");const ee=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new ee(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/user"}getUsernameAddress(){return this.getBaseAddress()+"/sign-in"}getChangePasswordAddress(){return this.getBaseAddress()+"/change-password"}getUsernamePath(e){return this.getParamPath(this.getUsernameAddress(),e)}fetchByUsername(e){return this.getConfig().getHttp().get(this.getUsernamePath(e))}changePassword(e,s){return this.getConfig().getHttp().put(this.getChangePasswordAddress(),{userId:e,password:s},{contentType:t.ContentTypeEnum.URL_ENCODED})}};let te=ee;__publicField(te,"instance");const se=class extends BaseService{constructor(e){super(e)}static getInstance(e){return null==this.instance&&(this.instance=new se(e)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/element"}fetchById(e){return this.getConfig().getHttp().get(this.getIdPath(e))}};let ne=se;__publicField(ne,"instance");const ie=class{constructor(e){__publicField(this,"config",{}),this.config=e}static getInstance(e){return null==this.instance&&(this.instance=new ie(e)),this.instance}createSession(e=""){const t=this.config.getUaa()+"/open/identity/session";return this.config.getHttp().post(t,{clientId:this.config.getClientId(),clientSecret:this.config.getClientSecret(),sessionId:e})}exchange(e="",t){const s=this.config.getUaa()+"/open/identity/exchange";return this.config.getHttp().post(s,{confidential:t,sessionId:e})}getPrompt(e){const t=this.config.getUaa()+"/open/identity/prompt";return this.config.getHttp().post(t,{username:e})}createCaptcha(e,t){const s=this.config.getUaa()+"/open/captcha";return this.config.getHttp().get(s,{identity:e,category:t})}verifyCaptcha(e,t,s){const n=this.config.getUaa()+"/open/captcha",i={identity:e,category:t,coordinate:{x:0,y:0},coordinates:[],characters:""};return t===d.WORD_CLICK?i.coordinates=s:t===d.JIGSAW?i.coordinate=s:i.characters=s,this.config.getHttp().post(n,i)}createVerificationCode(e){const s=this.config.getUpms()+"/open/identity/verification-code";return this.config.getHttp().post(s,{mobile:e},{contentType:t.ContentTypeEnum.URL_ENCODED})}getSocialList(){const e=this.config.getUpms()+"/open/identity/sources";return this.config.getHttp().get(e)}};let re=ie;__publicField(re,"instance");const ce=class{constructor(e){__publicField(this,"config",{}),this.config=e}static getInstance(e){return null==this.instance&&(this.instance=new ce(e)),this.instance}open(){return re.getInstance(this.config)}application(){return h.getInstance(this.config)}scope(){return A.getInstance(this.config)}token(){return E.getInstance(this.config)}compliance(){return S.getInstance(this.config)}server(){return _.getInstance(this.config)}applicaiton(){return m.getInstance(this.config)}account(){return B.getInstance(this.config)}catalog(){return P.getInstance(this.config)}instance(){return U.getInstance(this.config)}uaa(){return H.getInstance(this.config)}upms(){return R.getInstance(this.config)}organization(){return F.getInstance(this.config)}department(){return M.getInstance(this.config)}employee(){return G.getInstance(this.config)}allocatable(){return x.getInstance(this.config)}bucket(){return Y.getInstance(this.config)}multipart(){return z.getInstance(this.config)}authority(){return k.getInstance(this.config)}defaultRole(){return X.getInstance(this.config)}element(){return ne.getInstance(this.config)}securityAttribute(){return $.getInstance(this.config)}role(){return Z.getInstance(this.config)}user(){return te.getInstance(this.config)}};let ae=ce;__publicField(ae,"instance");Object.defineProperty(e,"Base64",{enumerable:!0,get:()=>t.Base64}),Object.defineProperty(e,"ContentTypeEnum",{enumerable:!0,get:()=>t.ContentTypeEnum}),e.ApiConfig=ApiConfig,e.ApplicationEnum=a,e.AssetApplicationService=m,e.AssetServerService=_,e.AuthorityTypeEnum=s,e.BaseService=BaseService,e.BucketService=Y,e.CaptchaCategoryEnum=d,e.ConstantEnum=c,e.DatabaseAccountService=B,e.DatabaseCatalogService=P,e.DatabaseInstanceService=U,e.GenderEnum=i,e.IdentityEnum=n,e.MultipartUploadService=z,e.OAuth2ApplicationService=h,e.OAuth2ComplianceService=S,e.OAuth2ScopeService=A,e.OAuth2TokenService=E,e.OpenApiService=re,e.Service=Service,e.SocialSourceEnum=u,e.StatusEnum=r,e.SupplierType=g,e.SysAuthorityService=k,e.SysDefaultRoleService=X,e.SysDepartmentService=M,e.SysElementService=ne,e.SysEmployeeAllocatableService=x,e.SysEmployeeService=G,e.SysOrganizationService=F,e.SysRoleService=Z,e.SysSecurityAttributeService=$,e.SysUserService=te,e.TechnologyEnum=o,e.UaaConstantService=H,e.UpmsConstantService=R,e.createApi=(e,t,s,n)=>{const i=new ApiConfig(e,t,s,n);return ae.getInstance(i)},Object.defineProperties(e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
