var __defProp=Object.defineProperty,__defNormalProp=(t,e,s)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,__publicField=(t,e,s)=>(__defNormalProp(t,"symbol"!=typeof e?e+"":e,s),s);!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@herodotus/utils")):"function"==typeof define&&define.amd?define(["exports","@herodotus/utils"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["@herodotus/apis"]={},t["@herodotus/utils"])}(this,(function(t,e){"use strict";class ApiConfig{constructor(t,e,s,n){__publicField(this,"http",{}),__publicField(this,"project",""),__publicField(this,"clientId",""),__publicField(this,"clientSecret",""),__publicField(this,"uaaAddress",""),__publicField(this,"upmsAddress",""),__publicField(this,"bpmnAddress",""),__publicField(this,"cmdbAddress",""),this.project=t,this.clientId=e,this.clientSecret=s,this.http=n,this.switch(t)}switch(t){switch(t){case"dante":this.uaaAddress="/dante-cloud-uaa",this.upmsAddress="/dante-cloud-upms",this.bpmnAddress="/dante-cloud-bpmn-ability/engine-rest",this.cmdbAddress="/dante-cloud-cmdb-ability";break;case"herodotus":this.uaaAddress="/herodotus-cloud-uaa",this.upmsAddress="/herodotus-cloud-upms",this.bpmnAddress="/herodotus-cloud-bpmn-ability/engine-rest",this.cmdbAddress="/herodotus-cloud-cmdb-ability";break;default:this.uaaAddress="",this.upmsAddress="",this.bpmnAddress="/engine-rest",this.cmdbAddress=""}}getProject(){return this.project}getClientSecret(){return this.clientSecret}getClientId(){return this.clientId}getHttp(){return this.http}getUaa(){return this.uaaAddress}getUpms(){return this.upmsAddress}getBpmn(){return this.bpmnAddress}getCmdb(){return this.cmdbAddress}}var s=(t=>(t[t.API=0]="API",t[t.MENU=1]="MENU",t[t.PAGE=2]="PAGE",t[t.MINI_PAGE=3]="MINI_PAGE",t))(s||{}),n=(t=>(t[t.LEADERSHIP=0]="LEADERSHIP",t[t.SECTION_LEADER=1]="SECTION_LEADER",t[t.STAFF=2]="STAFF",t))(n||{}),i=(t=>(t[t.OTHERS=0]="OTHERS",t[t.MAN=1]="MAN",t[t.WOMAN=2]="WOMAN",t))(i||{}),r=(t=>(t[t.FORBIDDEN=0]="FORBIDDEN",t[t.ENABLE=1]="ENABLE",t[t.LOCKING=2]="LOCKING",t[t.EXPIRED=3]="EXPIRED",t))(r||{}),c=(t=>(t.APPLICATION="applicationType",t.GENDER="gender",t.GRANT="grantType",t.IDENTITY="identity",t.STATUS="status",t.SUPPLIER="supplierType",t.TECHNOLOGY="technologyType",t.EXPRESSION="expression",t))(c||{}),a=(t=>(t[t.WEB=0]="WEB",t[t.SERVICE=1]="SERVICE",t[t.APP=2]="APP",t[t.WAP=3]="WAP",t[t.MINI=4]="MINI",t))(a||{}),o=(t=>(t[t.JAVA=0]="JAVA",t[t.NET=1]="NET",t[t.PHP=2]="PHP",t[t.NODE=3]="NODE",t[t.IOS=4]="IOS",t[t.ANDROID=5]="ANDROID",t[t.WEAPP=6]="WEAPP",t[t.ALIAPP=7]="ALIAPP",t[t.DUAPP=8]="DUAPP",t))(o||{}),g=(t=>(t[t.CORE=0]="CORE",t[t.BAT=1]="BAT",t[t.THIRD_PARTY=2]="THIRD_PARTY",t[t.Outsourcing=3]="Outsourcing",t))(g||{}),u=(t=>(t[t.INSTITUTION=0]="INSTITUTION",t[t.SMS=1]="SMS",t[t.WXAPP=2]="WXAPP",t[t.QQ=3]="QQ",t[t.WEIBO=4]="WEIBO",t[t.BAIDU=5]="BAIDU",t[t.WECHAT_OPEN=6]="WECHAT_OPEN",t[t.WECHAT_MP=7]="WECHAT_MP",t[t.WECHAT_ENTERPRISE=8]="WECHAT_ENTERPRISE",t[t.WECHAT_ENTERPRISE_WEB=9]="WECHAT_ENTERPRISE_WEB",t[t.DINGTALK=10]="DINGTALK",t[t.DINGTALK_ACCOUNT=11]="DINGTALK_ACCOUNT",t[t.ALIYUN=12]="ALIYUN",t[t.TAOBAO=13]="TAOBAO",t[t.ALIPAY=14]="ALIPAY",t[t.TEAMBITION=15]="TEAMBITION",t[t.HUAWEI=16]="HUAWEI",t[t.FEISHU=17]="FEISHU",t[t.JD=18]="JD",t[t.DOUYIN=19]="DOUYIN",t[t.TOUTIAO=20]="TOUTIAO",t[t.MI=21]="MI",t[t.RENREN=22]="RENREN",t[t.MEITUAN=23]="MEITUAN",t[t.ELEME=24]="ELEME",t[t.KUJIALE=25]="KUJIALE",t[t.XMLY=26]="XMLY",t[t.GITEE=27]="GITEE",t[t.OSCHINA=28]="OSCHINA",t[t.CSDN=29]="CSDN",t[t.GITHUB=30]="GITHUB",t[t.GITLAB=31]="GITLAB",t[t.STACK_OVERFLOW=32]="STACK_OVERFLOW",t[t.CODING=33]="CODING",t[t.GOOGLE=34]="GOOGLE",t[t.MICROSOFT=35]="MICROSOFT",t[t.FACEBOOK=36]="FACEBOOK",t[t.LINKEDIN=37]="LINKEDIN",t[t.TWITTER=38]="TWITTER",t[t.AMAZON=39]="AMAZON",t[t.SLACK=40]="SLACK",t[t.LINE=41]="LINE",t[t.OKTA=42]="OKTA",t[t.PINTEREST=43]="PINTEREST",t))(u||{}),d=(t=>(t.JIGSAW="JIGSAW",t.WORD_CLICK="WORD_CLICK",t.ARITHMETIC="ARITHMETIC",t.CHINESE="CHINESE",t.CHINESE_GIF="CHINESE_GIF",t.SPEC_GIF="SPEC_GIF",t.SPEC="SPEC",t.HUTOOL_LINE="HUTOOL_LINE",t.HUTOOL_CIRCLE="HUTOOL_CIRCLE",t.HUTOOL_SHEAR="HUTOOL_SHEAR",t.HUTOOL_GIF="HUTOOL_GIF",t))(d||{});class Service{constructor(t){__publicField(this,"config"),this.config=t}getConfig(){return this.config}getParamPath(t,e){return t+"/"+e}getIdPath(t){return this.getParamPath(this.getBaseAddress(),t)}}class BaseService extends Service{getConditionAddress(){return this.getBaseAddress()+"/condition"}getListAddress(){return this.getBaseAddress()+"/list"}getTreeAddress(){return this.getBaseAddress()+"/tree"}fetch(t={}){return this.getConfig().getHttp().get(this.getBaseAddress(),t)}fetchByPage(t,s={}){if(e.lodash.isEmpty(s))return this.getConfig().getHttp().get(this.getBaseAddress(),t);{const e=Object.assign(t,s);return this.getConfig().getHttp().get(this.getConditionAddress(),e)}}fetchAll(t={}){return this.getConfig().getHttp().get(this.getListAddress(),t)}fetchTree(t={}){return this.getConfig().getHttp().get(this.getTreeAddress(),t)}saveOrUpdate(t){return this.getConfig().getHttp().post(this.getBaseAddress(),t)}delete(t){return this.getConfig().getHttp().delete(this.getIdPath(t))}assign(t){return this.getConfig().getHttp().put(this.getBaseAddress(),t,{contentType:e.ContentTypeEnum.URL_ENCODED})}}const h=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new h(t)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/application"}};let l=h;__publicField(l,"instance");const p=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new p(t)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/scope"}getAssignedAddress(){return this.getBaseAddress()+"/assigned"}getScopeCodePath(t){return this.getParamPath(this.getBaseAddress(),t)}fetchByScopeCode(t){return this.getConfig().getHttp().get(this.getScopeCodePath(t))}assigned(t){return this.getConfig().getHttp().post(this.getAssignedAddress(),t)}};let A=p;__publicField(A,"instance");const I=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new I(t)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/authorization"}};let E=I;__publicField(E,"instance");const C=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new C(t)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/compliance"}};let f=C;__publicField(f,"instance");const S=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new S(t)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/asset/server"}};let _=S;__publicField(_,"instance");const T=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new T(t)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/asset/application"}};let m=T;__publicField(m,"instance");const O=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new O(t)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/db/account"}};let B=O;__publicField(B,"instance");const y=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new y(t)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/db/catalog"}};let b=y;__publicField(b,"instance");const P=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new P(t)),this.instance}getBaseAddress(){return this.getConfig().getCmdb()+"/db/instance"}};let N=P;__publicField(N,"instance");const U=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new U(t)),this.instance}getBaseAddress(){return this.getConfig().getUaa()+"/authorize/constant/enums"}};let H=U;__publicField(H,"instance");const v=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new v(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/constants/enums"}};let R=v;__publicField(R,"instance");const D=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new D(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/organization"}};let L=D;__publicField(L,"instance");const F=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new F(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/department"}};let w=F;__publicField(w,"instance");const M=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new M(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/employee"}getAssignedAddress(){return this.getBaseAddress()+"/assigned"}getAllocatableAddress(){return this.getBaseAddress()+"/allocatable"}getEmployeeNamePath(t){return this.getParamPath(this.getBaseAddress(),t)}fetchByEmployeeName(t){return this.getConfig().getHttp().get(this.getEmployeeNamePath(t))}fetchAssignedByPage(t,e={}){const s=Object.assign(t,e);return this.getConfig().getHttp().get(this.getAssignedAddress(),s)}deleteAllocatable(t){return this.getConfig().getHttp().delete(this.getAllocatableAddress(),t)}saveAllocatable(t){return this.getConfig().getHttp().post(this.getAllocatableAddress(),t)}authorizeUser(t){return this.getConfig().getHttp().put(this.getBaseAddress(),t,{contentType:e.ContentTypeEnum.URL_ENCODED})}};let G=M;__publicField(G,"instance");const W=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new W(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/"}};let x=W;__publicField(x,"instance");const K=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new K(t)),this.instance}getBaseAddress(){return"/oss/minio/bucket"}remove(t){return this.getConfig().getHttp().delete(this.getBaseAddress(),t)}};let k=K;__publicField(k,"instance");const z=class extends Service{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new z(t)),this.instance}getBaseAddress(){return"/oss/minio/multipart"}getCreateMultipartUploadAddress(){return this.getBaseAddress()+"/create"}getCompleteMultipartUploadAddress(){return this.getBaseAddress()+"/complete"}createMultipartUpload(t){return this.getConfig().getHttp().post(this.getCreateMultipartUploadAddress(),t)}completeMultipartUpload(t){return this.getConfig().getHttp().post(this.getCompleteMultipartUploadAddress(),t)}};let j=z;__publicField(j,"instance");const Y=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new Y(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/authority"}};let J=Y;__publicField(J,"instance");const V=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new V(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/default-role"}};let X=V;__publicField(X,"instance");const Q=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new Q(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/role"}getRoleCodePath(t){return this.getParamPath(this.getBaseAddress(),t)}fetchByRoleCode(t){return this.getConfig().getHttp().get(this.getRoleCodePath(t))}};let Z=Q;__publicField(Z,"instance");const q=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new q(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/security-attribute"}};let $=q;__publicField($,"instance");const tt=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new tt(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/user"}getUsernameAddress(){return this.getBaseAddress()+"/sign-in"}getChangePasswordAddress(){return this.getBaseAddress()+"/change-password"}getUsernamePath(t){return this.getParamPath(this.getUsernameAddress(),t)}fetchByUsername(t){return this.getConfig().getHttp().get(this.getUsernamePath(t))}changePassword(t,s){return this.getConfig().getHttp().put(this.getChangePasswordAddress(),{userId:t,password:s},{contentType:e.ContentTypeEnum.URL_ENCODED})}};let et=tt;__publicField(et,"instance");const st=class extends BaseService{constructor(t){super(t)}static getInstance(t){return null==this.instance&&(this.instance=new st(t)),this.instance}getBaseAddress(){return this.getConfig().getUpms()+"/element"}fetchById(t){return this.getConfig().getHttp().get(this.getIdPath(t))}};let nt=st;__publicField(nt,"instance");const it=class{constructor(t){__publicField(this,"config",{}),this.config=t}static getInstance(t){return null==this.instance&&(this.instance=new it(t)),this.instance}getOAuth2TokenAddress(){return this.config.getUaa()+"/oauth2/token"}getOAuth2RevokeAddress(){return this.config.getUaa()+"/oauth2/revoke"}getOAuth2SignOutAddress(){return this.config.getUaa()+"/oauth2/sign-out"}getBasicHeader(){return"Basic "+e.Base64.encode(this.config.getClientId()+":"+this.config.getClientSecret())}signOut(t){return this.config.getHttp().put(this.getOAuth2SignOutAddress(),{accessToken:t},{contentType:e.ContentTypeEnum.URL_ENCODED},{headers:{Authorization:this.getBasicHeader()}})}revoke(t){return this.config.getHttp().post(this.getOAuth2RevokeAddress(),{token:t},{contentType:e.ContentTypeEnum.URL_ENCODED},{headers:{Authorization:this.getBasicHeader()}})}refreshTokenFlow(t){return this.config.getHttp().post(this.getOAuth2TokenAddress(),{refresh_token:t,grant_type:"refresh_token"},{contentType:e.ContentTypeEnum.URL_ENCODED},{headers:{Authorization:this.getBasicHeader()}})}passwordFlow(t,s){return this.config.getHttp().post(this.getOAuth2TokenAddress(),{username:t,password:s,grant_type:"password"},{contentType:e.ContentTypeEnum.URL_ENCODED},{headers:{Authorization:this.getBasicHeader()}})}socialCredentialsFlowBySms(t,s){return this.config.getHttp().post(this.getOAuth2TokenAddress(),{mobile:t,code:s,grant_type:"social_credentials",source:"SMS"},{contentType:e.ContentTypeEnum.URL_ENCODED},{headers:{Authorization:this.getBasicHeader()}})}socialCredentialsFlowByJustAuth(t,s){return this.config.getHttp().post(this.getOAuth2TokenAddress(),{...s,grant_type:"social_credentials",source:t},{contentType:e.ContentTypeEnum.URL_ENCODED},{headers:{Authorization:this.getBasicHeader()}})}};let rt=it;__publicField(rt,"instance");const ct=class{constructor(t){__publicField(this,"config",{}),this.config=t}static getInstance(t){return null==this.instance&&(this.instance=new ct(t)),this.instance}createSession(t=""){const e=this.config.getUaa()+"/open/identity/session";return this.config.getHttp().post(e,{clientId:this.config.getClientId(),clientSecret:this.config.getClientSecret(),sessionId:t})}exchange(t="",e){const s=this.config.getUaa()+"/open/identity/exchange";return this.config.getHttp().post(s,{confidential:e,sessionId:t})}getPrompt(t){const e=this.config.getUaa()+"/open/identity/prompt";return this.config.getHttp().post(e,{username:t})}createCaptcha(t,e){const s=this.config.getUaa()+"/open/captcha";return this.config.getHttp().get(s,{identity:t,category:e})}verifyCaptcha(t,e,s){const n=this.config.getUaa()+"/open/captcha",i={identity:t,category:e,coordinate:{x:0,y:0},coordinates:[],characters:""};return e===d.WORD_CLICK?i.coordinates=s:e===d.JIGSAW?i.coordinate=s:i.characters=s,this.config.getHttp().post(n,i)}createVerificationCode(t){const s=this.config.getUpms()+"/open/identity/verification-code";return this.config.getHttp().post(s,{mobile:t},{contentType:e.ContentTypeEnum.URL_ENCODED})}getSocialList(){const t=this.config.getUpms()+"/open/identity/sources";return this.config.getHttp().get(t)}};let at=ct;__publicField(at,"instance");const ot=class{constructor(t){__publicField(this,"config",{}),this.config=t}static getInstance(t){return null==this.instance&&(this.instance=new ot(t)),this.instance}open(){return at.getInstance(this.config)}oauth2(){return rt.getInstance(this.config)}oauth2Application(){return l.getInstance(this.config)}oauth2Scope(){return A.getInstance(this.config)}oauth2Authorization(){return E.getInstance(this.config)}oauth2Compliance(){return f.getInstance(this.config)}assetServer(){return _.getInstance(this.config)}assetApplication(){return m.getInstance(this.config)}dbAccount(){return B.getInstance(this.config)}dbCatalog(){return b.getInstance(this.config)}dbInstance(){return N.getInstance(this.config)}uaaConstant(){return H.getInstance(this.config)}upmsConstant(){return R.getInstance(this.config)}sysOrganization(){return L.getInstance(this.config)}sysDepartment(){return w.getInstance(this.config)}sysEmployee(){return G.getInstance(this.config)}sysEmployeeAllocatable(){return x.getInstance(this.config)}minioBucket(){return k.getInstance(this.config)}minioMultipart(){return j.getInstance(this.config)}sysAuthority(){return J.getInstance(this.config)}sysDefaultRole(){return X.getInstance(this.config)}sysElement(){return nt.getInstance(this.config)}sysSecurityAttribute(){return $.getInstance(this.config)}sysRole(){return Z.getInstance(this.config)}sysUser(){return et.getInstance(this.config)}};let gt=ot;__publicField(gt,"instance");Object.defineProperty(t,"Axios",{enumerable:!0,get:()=>e.Axios}),Object.defineProperty(t,"Base64",{enumerable:!0,get:()=>e.Base64}),Object.defineProperty(t,"ContentTypeEnum",{enumerable:!0,get:()=>e.ContentTypeEnum}),t.ApiConfig=ApiConfig,t.ApplicationEnum=a,t.AssetApplicationService=m,t.AssetServerService=_,t.AuthorityTypeEnum=s,t.BaseService=BaseService,t.BucketService=k,t.CaptchaCategoryEnum=d,t.ConstantEnum=c,t.DatabaseAccountService=B,t.DatabaseCatalogService=b,t.DatabaseInstanceService=N,t.GenderEnum=i,t.IdentityEnum=n,t.MultipartUploadService=j,t.OAuth2ApiService=rt,t.OAuth2ApplicationService=l,t.OAuth2AuthorizationService=E,t.OAuth2ComplianceService=f,t.OAuth2ScopeService=A,t.OpenApiService=at,t.Service=Service,t.SocialSourceEnum=u,t.StatusEnum=r,t.SupplierType=g,t.SysAuthorityService=J,t.SysDefaultRoleService=X,t.SysDepartmentService=w,t.SysElementService=nt,t.SysEmployeeAllocatableService=x,t.SysEmployeeService=G,t.SysOrganizationService=L,t.SysRoleService=Z,t.SysSecurityAttributeService=$,t.SysUserService=et,t.TechnologyEnum=o,t.UaaConstantService=H,t.UpmsConstantService=R,t.createApi=(t,e,s,n)=>{const i=new ApiConfig(t,e,s,n);return gt.getInstance(i)},Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
